# Oracle ‚Üí Parquet ‚Üí Greenplum Migration Demo

–¶–µ–ª—å: –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ Oracle –≤ Greenplum —á–µ—Ä–µ–∑ Parquet.

## üóÉ –ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ö–µ–º–∞ (Oracle XE 21c)

- `customers`: id (NUMBER), name (VARCHAR2), email, created_at (DATE), profile (CLOB), is_active (CHAR)
- `orders`: id, customer_id (FK), amount (NUMBER), order_date (DATE), status, notes (CLOB)
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ + —Ç—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞
- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å `ON DELETE CASCADE`
- –ò–Ω–¥–µ–∫—Å—ã
- PL/SQL-–ø–∞–∫–µ—Ç `pkg_customer`

## ‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

| –≠–ª–µ–º–µ–Ω—Ç | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|--------|
| `CLOB` | –ú–æ–∂–µ—Ç –Ω–µ –ø–æ–º–µ—â–∞—Ç—å—Å—è –≤ VARCHAR | –•—Ä–∞–Ω–∏–º –∫–∞–∫ TEXT –≤ PostgreSQL |
| `DATE` | –¢–µ—Ä—è–µ—Ç—Å—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ —Å–µ–∫—É–Ω–¥ | –ò—Å–ø–æ–ª—å–∑—É–µ–º `TIMESTAMP` |
| `CHAR(1)` Y/N | –ù–µ boolean | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ `BOOLEAN` |
| –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | –í PG ‚Äî `IDENTITY` | –ó–∞–º–µ–Ω—è–µ–º –Ω–∞ `GENERATED ALWAYS AS IDENTITY` |
| –¢—Ä–∏–≥–≥–µ—Ä—ã | –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è | –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞ PL/pgSQL |
| PL/SQL-–ø–∞–∫–µ—Ç | –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ | –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |

## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. `docker-compose up -d`
2. –î–æ–∂–¥–∞—Ç—å—Å—è "DATABASE IS READY TO USE!"
3. `pip install -r requirements.txt`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Oracle Instant Client
5. `python extract/extract_to_parquet.py`
6. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL/Greenplum
7. `python load/load_to_postgres.py`

## üìå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Oracle XE

- –ù–µ—Ç –ø–∞—Ä—Ç–∏—Ü–∏–π, materialized views, AQ
- –ù–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π

> –ê–≤—Ç–æ—Ä: –ò–ª—å—è | –¶–µ–ª—å: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö